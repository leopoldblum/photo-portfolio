---
import type { WebsiteLayout } from "../../../../photo-cms/src/types/apiTypes";

export async function getStaticPaths() {
    const res = await fetch("http://localhost:3001/api/globals/websiteLayout");
    const websitelayout: WebsiteLayout = await res.json();

    const allPhotoSetWrappers = websitelayout.photosets;

    allPhotoSetWrappers.map((el) => console.log(el.photoset.project.id));

    return allPhotoSetWrappers.map((el) => ({
        params: {
            projectPage: el.photoset.project.id,
        },
    }));

    // return [
    //     { params: { projectPage: "clifford" } },
    //     { params: { projectPage: "rover" } },
    //     { params: { projectPage: "spot" } },
    // ];
}

const { projectPage } = Astro.params;
---

<div>Good dog, {projectPage}!</div>
