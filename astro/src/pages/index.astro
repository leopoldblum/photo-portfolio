---
import Layout from "../layouts/Layout.astro";
import type { WebsiteLayout } from "../../../photo-cms/src/types/apiTypes";

import ImageDisplay from "../components/ImageDisplay";
import ImageCarouselReact from "../components/ImageCarouselReact";

const db_url = import.meta.env.PUBLIC_API_URL;

const res = await fetch(`${db_url}api/globals/websiteLayout`);
const websitelayout: WebsiteLayout = await res.json();

const allPhotoSetWrappers = websitelayout.photosets;
---

<Layout title="LB Fotos">
    {
        allPhotoSetWrappers.map((photoSetWrapper) => (
            <>
                {/* Display Thumbnails here */}
                <ImageDisplay photoSet={photoSetWrapper.photoset} client:load />
            </>
        ))
    }
</Layout>
