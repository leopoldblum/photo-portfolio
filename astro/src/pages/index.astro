---
import Layout from "../layouts/Layout.astro";
import type { WebsiteLayout } from "../../../photo-cms/src/types/apiTypes";
import ImageDisplay from "../components/ImageDisplay";

const db_url = import.meta.env.PUBLIC_API_URL;

const res = await fetch(`${db_url}/api/globals/websiteLayout`);
const websitelayout: WebsiteLayout = await res.json();

const allPhotoProjectWrappers = websitelayout.photoProjects;
---

<Layout title="LB Fotos">
    {
        allPhotoProjectWrappers.map((wrapper) => (
            <>
                <ImageDisplay photoProject={wrapper.photoProject} client:load />
            </>
        ))
    }
</Layout>
